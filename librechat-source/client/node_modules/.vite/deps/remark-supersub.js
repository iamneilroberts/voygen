import __buffer_polyfill from 'vite-plugin-node-polyfills/shims/buffer'
globalThis.Buffer = globalThis.Buffer || __buffer_polyfill
import __global_polyfill from 'vite-plugin-node-polyfills/shims/global'
globalThis.global = globalThis.global || __global_polyfill
import __process_polyfill from 'vite-plugin-node-polyfills/shims/process'
globalThis.process = globalThis.process || __process_polyfill

import {
  visit
} from "./chunk-JFJ4P6QH.js";
import {
  __toESM,
  require_dist,
  require_dist2,
  require_dist3
} from "./chunk-XN4GCD7D.js";

// ../node_modules/remark-supersub/lib/index.js
var import_dist = __toESM(require_dist());
var import_dist2 = __toESM(require_dist2());
var import_dist3 = __toESM(require_dist3());
function supersub() {
  return (tree) => {
    visit(tree, ["text"], (node, i, parent) => {
      if (node.type !== "text") {
        return;
      }
      const { value } = node;
      const values = value.split(/\^/);
      if (values.length === 1 || values.length % 2 === 0) {
        return;
      }
      const children = values.map((str, i2) => i2 % 2 === 0 ? {
        type: "text",
        value: str
      } : {
        type: "superscript",
        data: {
          hName: "sup"
        },
        children: [
          {
            type: "text",
            value: str
          }
        ]
      });
      parent.children.splice(i, 1, ...children);
    });
    visit(tree, ["text"], (node, i, parent) => {
      if (node.type !== "text") {
        return;
      }
      const { value } = node;
      const values = value.split(/\~/);
      if (values.length === 1 || values.length % 2 === 0) {
        return;
      }
      const children = values.map((str, i2) => i2 % 2 === 0 ? {
        type: "text",
        value: str
      } : {
        type: "subscript",
        data: {
          hName: "sub"
        },
        children: [
          {
            type: "text",
            value: str
          }
        ]
      });
      parent.children.splice(i, 1, ...children);
    });
  };
}
export {
  supersub as default
};
//# sourceMappingURL=remark-supersub.js.map
